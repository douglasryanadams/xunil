<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Xunil</title>

    <link rel="stylesheet" href="style/style.css">
    <script src="lib/jquery.min.js"></script>
    <script src="lib/sjcl.js"></script>
    <script src="script/config.js"></script>
    <script src="script/clientMemory.js"></script>
    <script src="script/chatController.js"></script>
    <script src="script/socket.js"></script>
    <script src="script/chatSocket.js"></script>
    <script src="script/rosterSocket.js"></script>
    <script src="script/configController.js"></script>
    <script src="script/keyMaster.js"></script>
    <script src="script/restClient.js"></script>
    <script src="script/chatConnectionController.js"></script>
    <script src="script/main.js"></script>
</head>
<body>

<div id="body_wrapper">
    <div id="header_content">
    </div>
    <div id="chat_window">
        <div class="chat_header">
            My ID: <span id="my_id">&nbsp;</span>
            <input type="checkbox" id="show_me">Display my ID in roster list
        </div>
        <div id="chat_body">
            <div id="chat_display">
                <ol>
                    <li>Click on an ID on the right or type one in at the bottom.</li>
                    <li>Click Connect</li>
                    <li>If your target user accepts, enjoy encrypted messaging that not even this website's server can see!</li>
                </ol>
            </div>
            <div id="user_roster"></div>
        </div>
        <textarea type="text" id="chat_input" disabled="disabled"></textarea>
        <div id="chat_submit_wrapper">
            <input type="checkbox" id="enter_sends">Hit <span style="font-weight: bold;">Enter</span> to Send
            <input type="checkbox" id="show_my_own_messages">Show my own messages
            <input id="chat_submit" type="submit" value="Send">
        </div>
        <div id="recipient_info">
            <label>Recipient ID:</label>
            <input type="text" id="message_recipient">
            <input id="recipient_connect_submit" type="button" value="Connect">
            <input id="recipient_connect_accept" type="button" value="Accept">
            <input id="recipient_connect_reject" type="button" value="Reject">
            <input id="recipient_disconnect_submit" type="button" value="Disconnect">
        </div>
    </div>
    <div id="footer_content">
        <p>
            Check out the source here: <a href="https://github.com/douglasryanadams/xunil">https://github.com/douglasryanadams/xunil</a>
        </p>
        <hr>
        <h4>What is it?</h4>
        <p>
            Xunil.io provides easy to use, totally anonymous, client based chat encryption.
        </p>
        <h4>How does it work?</h4>
        <p>
            Your browser generates a brand new public / private key pair when you load the page and registers the public key with the server and associates it with your randomly generated ID (see the top of the window).
            That means: only you can read your messages! Even though the server receives your encrypted message, it doesn't know how to read it because it doesn't have your private key.
            That private key is stored in the memory of your browser and is only available to you. If you close the window, that memory is cleared and no one (not even you) will be able to read those messages ever again.
        </p>
        <h4>Why doesn't it work like a normal chat client?</h4>
        <p>
            Keeping your messages safe is the first priority! That's why you have to opt in (by checking the correct box below the chat window) to send messages when you hit enter or to show your own messages on the screen.
            That's also why you have to <i>choose</i> to show your ID in the roster. Don't want people to see you're online? They won't know until you tell them.
            Want your friend to connect to you directly without showing your roster ID? Send it to them via some other mechanism and they can type it themselves.
        </p>
        <h4>What are you logging?</h4>
        <p>
            Almost nothing. The server only logs when chat connections are created and destroyed.
        </p>
        <h4>Why does it have so many bugs?</h4>
        <p>
            I did my best to get something out there that generally works. Most issues can be solved by closing the window and connecting again.
            That said, this is an open source project that I encourage everyone to contribute to, or report issues for: <a href="https://github.com/douglasryanadams/xunil">https://github.com/douglasryanadams/xunil</a>
        </p>
        <h4>Why bother?</h4>
        <p>
            I was interested to see if a tool like this could work.
        </p>
        <h4>Can I build my own server?</h4>
        <p>
            Yes! Everything to deploy your own Ubuntu 14.04 server except for the private SSL key (for HTTPS) is included in the open source repo.
            However (!!) some assembly is required, it's not a plug and play deployment. It would help to know how to read bash scripts and salt configurations.
        </p>
    </div>
</div>

</body>
</html>